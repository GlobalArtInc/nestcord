---
id: пагинация
title: Пагинация
sidebar_position: 1
---

Конечно же! Пагинация - это ценная техника в пользовательских интерфейсах для отображения большого объема информации структурированным и управляемым способом. При работе с обширными данными, такими как результаты поиска, статьи или списки продуктов, показывающие все, что сразу может привести к ухудшению качества работы пользователя. Пагинация разбивает информацию на более мелкие организованные разделы, повышая вовлеченность пользователей и облегчая навигацию. Этот модуль позволяет осуществлять пагинацию всего за несколько строк кода.

## Использование

После завершения установки мы можем импортировать `NestCordPaginationModule` с помощью `NestCordModule` в корень `AppModule`:

```typescript
import { NestCordModule } from '@globalart/nestcord';
import { Module } from '@nestjs/common';
import { NestCordPaginationModule } from '@globalart/nestcord';
import { AppService } from '. app.service';

@Module({
    imports: [
        NestCordModule. orRoot({
            токен: 'DISCORD_BOT_TOKEN',
            намеревается: ['Гильдия', 'GuildMessages', 'DirectMessages']
        }),
        NestCordPaginationModule. orRoot()
    ],
    провайдеров: [AppService]
})
экспорт класса AppModule {}
```

Затем мы можем вставить `PaginationService` в наш сервис и зарегистрировать обработчик пагинации:

### Пагинация кнопок

```typescript
import { OnModuleInit, Injectable } from '@nestjs/common';
import { NestCordPaginationService, PageBuilder } from '@globalart/nestcord/pagination';
import { Context, SlashCommand, PaginatorTypeEnum, SlashCommandContext } from '@globalart/nestcord';

@Injectable()
export class AppService implements OnModuleInit {
    public constructor(private readonly paginationService: NestCordPaginationService) {
    }

    public onModuleInit(): void {
        this. aginationService.register(PaginatorTypeEnum. UTTONS (строитель) =>
            строитель
              . etCustomId('test')
        
        );
    }

    @SlashCommand({ name: 'pagination', description: 'Test pagination' })
    public async onPagination(@Context() [interaction]: SlashCommandContext) {
        const pagination = this. aginationService.get<PaginatorTypeEnum.BUTTONS>('test');
        пагинация. etButtons([
            [
              { 
                customId: 'page1',
                метка: 'Страница 1',
                стиль: Кнопка Стиль. econdary,
              },
              { 
                customId: 'page2',
                метка: 'Страница 2',
                стиль: Кнопки стиля. экондар,
              }
            ]
        ]);
        пагинация. etPages([
          новый PageBuilder(). etContent('Страница 1'),
          новый PageBuilder(). etContent(«Страница 2»)
        ]);
        const page = ожидание пагинации. uild(1);

        return interaction.reply(page);
    }
}
```

### Выберите нумерацию меню

```typescript
import { OnModuleInit, Injectable } from '@nestjs/common';
import { NestCordPaginationService, PageBuilder } from '@globalart/nestcord/pagination';
import { Context, SlashCommand, PaginatorTypeEnum, SlashCommandContext } from '@globalart/nestcord';

@Injectable()
export class AppService implements OnModuleInit {
    public constructor(private readonly paginationService: NestCordPaginationService) {
    }

    public onModuleInit(): void {
        this. aginationService.register(PaginatorTypeEnum. ELECT_MENU, (строитель) =>
            строитель
              . etCustomId('test')
        
        );
    }

    @SlashCommand({ name: 'pagination', description: 'Test pagination' })
    public async onPagination(@Context() [interaction]: SlashCommandContext) {
        const pagination = this. aginationService.get<PaginatorTypeEnum.SELECT_MENU>('test');
        pagination.setSelectMenuItems(this.setMenuItems());
        pagination. etPages(this.setMenuPages());
        const страница = ожидание пагинации. uild('page1');

        обратное взаимодействие. eply(страница);
    }

    @StringSelect('nestcord-pagination/test')
    async MenusInteraction(@Context() [interaction]: ButtonContext, @SelectedStrings() выбрано: string[]) {
      const selectedPage = selected?.[0] || null;
      const pagination = this. aginationService.get<PaginatorTypeEnum.SELECT_MENU>('menus');
      pagination.setSelectMenuItems(this.setMenuItems());
      pagination. etPages(this.setMenuPages());
      const page = await pagination.build(selectedPage);

      ожидают взаимодействия. pdate(страница);
    }

    private readonly setMenuPages() {
      return [
        {
          pageId: 'page1',
          builder: new PageBuilder(). etContent('Страница 1'),
        },
        {
          id страницы: 'page2',
          builder: new PageBuilder(). etContent('Страница 2'),
        },
      ];
    }

    private readonly setMenuItems() {
      return [
        {
          label: 'Page 1',
          value: 'page1',
        },
        {
          label: 'Page 2',
          value: 'page2',
        },
      ]
    }
}
```

Поздравляем! Вы успешно создали вашу первую страницу!
Просто используйте команду `pagination` и вы увидите вашу пагинацию!
