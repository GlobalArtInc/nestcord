---
id: статистический репортер
title: Обозреватель статистики
sidebar_position: 2
---

Легкий модуль статистики репортера для NestCord. Этот модуль отправляет данные из вашего бота в различные службы бота.

## Использование

После завершения установки мы можем импортировать `NestCordStatReporterModule` с вашим `NestCordModule` в корень `AppModule`:

```typescript
import { Module } from '@nestjs/common';
import { AppService } from './app. ervice';
import { NestCordModule, 
         NestCordStatReporterModule, 
         StatCronExpression, 
         NestCordLocalizationModule, 
         По умолчанию локализационный Адаптер, 
         UserResolver 
} от '@globalart/nestcord';

@Module({
    imports: [
      NestCordModule. orRoot({
        token: process.env. Ставка по ISCORD,
          intents: [
          IntentsBitField. lags.Guilds,
          IntentsBitField. lags.DirectMessages,
          IntentsBitField.Flags.GuildMembers,
          IntentsBitField. lags.GuildMessages,
          IntentsBitField.Flags. essageContent
        ],
        префикс: '! ,
        разработка: [process.env.DISCORD_TEST_GUILD]
      }),
      NestCordStatReporterModule. orRoot({
        services: [
          {
            name: 'top. g',
            actions: [
              {
                name: 'name of the action',
                url: 'https://top. g/bots/:bot_id/stats',
                bodyData: { server_count: '{{serverCount}}', шард_счет: '{{shardCount}}' },
              }
            ],
            данные заголовка: { Authorization: process.env.TOP_GG_TOKEN },
            расписание: StatCronExpression. VERY_5_MINUTES // или вы можете использовать выражение crontab, например */1 * * * ,
          },
        ],
      }),
    ],
    провайдеров: [AppService]
})
класс экспорта AppModule {
}
```

В разделе "Сервисы" должны быть перечислены все службы, на которых осуществляется мониторинг бота, и тело запроса должно передаваться. `{{serverCount}}` и `{{shardCount}}` будут автоматически заменены.

### Глобальные настройки

Интерфейс NestCordStatReporterмодуля:
| Property | Type | Описание |
|-------------------------------------------------------------------------------------------------------------------------------------------------------|
| `ServiceOption[]` | Услуги |
| `proxy` | `AxiosProxyConfig` или `undefined` | Proxy config |
| `development` | `boolean` | If true, отключает |
| `log` | `boolean` | Отправлять журнал при отправке статистики |

Интерфейс ServiceOptione:
| Тип | Описание |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `name` | `string` | Имя сервиса |
| `url` | `string` | `string` | API URL для отправки статистики |
| `прокси` | `AxiosProxyConfig` или `undefined` | Конфигурация прокси|
| `bodyData` | `object` | Body Data |
| `headerData` | `object` | Заголовок данных |
| `schedule` | `StatCronExpression` или `string` | Expression | Crontab | Expression | Crontab | Expression | Crontab | Crontab |

Поздравляем! Вы успешно зарегистрированы на NestCord!
